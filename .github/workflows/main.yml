name: Build Resume PDF
on: [push]

jobs:
  build:
    runs-on: ubuntu-latest
    container: fedora:31

    steps:
      - uses: actions/checkout@v4

      - name: Install LaTeX dependencies
        run: |
          dnf update -y
          dnf install -y \
            texlive-collection-latexrecommended \
            texlive-collection-fontsrecommended \
            texlive-collection-pictures \
            texlive-collection-science \
            texlive-collection-langcyrillic \
            texlive-wallpaper \
            texlive-geometry \
            texlive-fontawesome5 \
            texlive-hyperref \
            texlive-hyphenat

      - name: Build PDF
        run: |
          cd CV
          pdflatex -interaction=nonstopmode resume.tex
          pdflatex -interaction=nonstopmode resume.tex

      - name: Upload PDF
        uses: actions/upload-artifact@v3
        with:
          name: resume.pdf
          path: CV/resume.pdf
